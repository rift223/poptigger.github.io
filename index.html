<!DOCTYPE html>
<html>
<head>
  <title>Auto Click saat DOM dimuat</title>
</head>
<body>

  <iframe id="myFrame" src="about:blank"></iframe>

  <script>
    window.addEventListener('message', function(event) {
      if (event.origin !== "URL_HALAMAN_IFRAME") return;

      var updatedLink = event.data.updatedLink;

      // Auto-click pada link yang diperbarui otomatis dari iframe
      window.location.href = updatedLink;
    });

    document.addEventListener("DOMContentLoaded", function(event) {
      var myFrame = document.getElementById('myFrame');
      
      myFrame.addEventListener('load', function() {
        var iframeDocument = myFrame.contentDocument || myFrame.contentWindow.document;

        var iframeContent = `
          <html>
          <head>
            <title>Iframe Content</title>
          </head>
          <body>
            <a class="rhbody" href="URL_YANG_TERUPDATE">Link yang diperbarui otomatis</a>
            
            <script>
              window.addEventListener('DOMContentLoaded', function(event) {
                var rhBodyElement = document.querySelector('.rhbody');
                if (rhBodyElement) {
                  var updatedLink = rhBodyElement.getAttribute('href');
                  window.parent.postMessage({ updatedLink: updatedLink }, 'URL_DOKUMEN_UTAMA');
                }
              });
            </script>
          </body>
          </html>
        `;
        
        iframeDocument.open();
        iframeDocument.write(iframeContent);
        iframeDocument.close();
      });

      // Ganti URL_HALAMAN_IFRAME dengan URL yang ingin dimuat di dalam iframe
      myFrame.src = 'URL_HALAMAN_IFRAME';
    });
  </script>
</body>
</html>
